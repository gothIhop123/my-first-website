<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/database.css">
    <link rel="manifest" href="/manifest.json">
</head>
    
<body>
    <button id="returnBtn">back</button>
    <h1> All chances</h1>
    <p id="footnote">(i'm bad at maths so take it with a grain of salt)</p>
    <p id="data-container"></p>
    
    <!-- JavaScript Modules -->
    <script type="module" src="/js/database.js"></script>
    <script type="module" src="/js/app.js"></script>
    <script type="module">
        import {decrement, getRolltimes } from "/js/app.js";
        import { gameState, loadState } from '/js/siteState.js';

        loadState();

        const returnBtn = document.getElementById('returnBtn');

        returnBtn.addEventListener('click', () => {
            if (Math.random() < 1/3) {
                fetch('/reset', { method: 'POST' });
                setTimeout(() => {
                    window.location = 'http://localhost:8000/';
                }, 500);
                console.log(getRolltimes())
            } else {
                returnBtn.textContent = 'LOL TRY AGAIN';
            }
        });

        
    </script>
</body>
</html>